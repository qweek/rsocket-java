language: java

jdk:
  - oraclejdk8

env:
  - TRAVIS_PULL_REQUEST=true

branches:
  only:
    - feature/ci
    - feature/coverage

build:
  ci:
    - gradle assemble
    - gradle check
    - mkdir -p shippable/codecoverage
    - gradle jacocoRootReport
    - cp -r target shippable/codecoverage
    - bash <(curl -s https://codecov.io/bash)